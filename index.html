<!DOCTYPE html>
<html>
<head>
    <title>Google Form Kiosk Mode</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        iframe {
            width: 100%;
            height: 90vh;
            border: none;
        }
    </style>
</head>
<body>
    <h2>Merci de remplir ce formulaire</h2>
    <iframe id="googleForm" src="https://docs.google.com/forms/d/e/1FAIpQLSft_T6DZv675g_k4e6VOLF4HjItm-Hbq_E_EXx9btXWWUcP_w/viewform?usp=dialog?embedded=true"></iframe> 

    <script>
        function checkFormSubmission() {
            const iframe = document.getElementById("googleForm");

            try {
                const formUrl = iframe.contentWindow.location.href;
                
                // Vérifie si la soumission est faite (Google Forms ajoute "formResponse" dans l'URL après envoi)
                if (formUrl.includes("formResponse")) {
                    console.log("Formulaire soumis, rechargement...");
                    
                    // Recharge l'iframe après 3 secondes
                    setTimeout(() => {
                        iframe.src = iframe.src; 
                    }, 3000);
                }
            } catch (error) {
                console.log("Erreur de détection :", error);
            }
        }

        // Vérifie toutes les secondes si le formulaire a été soumis
        setInterval(checkFormSubmission, 1000);
    </script>
</body>
</html>
